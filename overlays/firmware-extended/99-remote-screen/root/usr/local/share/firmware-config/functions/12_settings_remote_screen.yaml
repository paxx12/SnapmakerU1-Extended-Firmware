links:
  remote-screen:
    url: /screen
    icon: "üñ•Ô∏è"
    label: Remote Screen
    condition:
      setting: remote-screen
      value: "true"

settings:
  web:
    label: Web
    items:
      remote-screen:
        label: Remote Screen
        get_cmd:
          - /usr/local/bin/extended-config.py
          - get
          - /home/lava/printer_data/config/extended/extended.cfg
          - web
          - remote_screen
          - "false"
        options:
          "true":
            label: Enabled
            cmd:
              - bash
              - -xc
              - |
                /usr/local/bin/extended-config.py add /home/lava/printer_data/config/extended/extended.cfg web remote_screen true &&
                /usr/local/bin/extended-config.py uncomment /home/lava/printer_data/config/extended/moonraker/04_remote_screen.cfg "webcam gui" &&
                /usr/local/bin/extended-config.py update /home/lava/printer_data/config/extended/moonraker/04_remote_screen.cfg "webcam gui" enabled true &&
                /etc/init.d/S99fb-http restart &&
                /etc/init.d/S61moonraker restart
          "false":
            label: Disabled
            cmd:
              - bash
              - -xc
              - |
                /usr/local/bin/extended-config.py add /home/lava/printer_data/config/extended/extended.cfg web remote_screen false &&
                /usr/local/bin/extended-config.py comment /home/lava/printer_data/config/extended/moonraker/04_remote_screen.cfg "webcam gui" &&
                /etc/init.d/S99fb-http restart &&
                /etc/init.d/S61moonraker restart
        default: "false"
